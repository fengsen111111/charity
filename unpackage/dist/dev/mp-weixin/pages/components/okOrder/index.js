(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/components/okOrder/index"],{81:function(e,n,t){"use strict";(function(e,n){var o=t(4);t(26);o(t(25));var s=o(t(82));e.__webpack_require_UNI_MP_PLUGIN__=t,n(s.default)}).call(this,t(1)["default"],t(2)["createPage"])},82:function(e,n,t){"use strict";t.r(n);var o=t(83),s=t(85);for(var r in s)["default"].indexOf(r)<0&&function(e){t.d(n,e,(function(){return s[e]}))}(r);t(87);var i,a=t(32),d=Object(a["default"])(s["default"],o["render"],o["staticRenderFns"],!1,null,null,null,!1,o["components"],i);d.options.__file="pages/components/okOrder/index.vue",n["default"]=d.exports},83:function(e,n,t){"use strict";t.r(n);var o=t(84);t.d(n,"render",(function(){return o["render"]})),t.d(n,"staticRenderFns",(function(){return o["staticRenderFns"]})),t.d(n,"recyclableRender",(function(){return o["recyclableRender"]})),t.d(n,"components",(function(){return o["components"]}))},84:function(e,n,t){"use strict";var o;t.r(n),t.d(n,"render",(function(){return s})),t.d(n,"staticRenderFns",(function(){return i})),t.d(n,"recyclableRender",(function(){return r})),t.d(n,"components",(function(){return o}));try{o={uniIcons:function(){return Promise.all([t.e("common/vendor"),t.e("uni_modules/uni-icons/components/uni-icons/uni-icons")]).then(t.bind(null,199))},uniPopup:function(){return t.e("uni_modules/uni-popup/components/uni-popup/uni-popup").then(t.bind(null,207))},uniDataCheckbox:function(){return Promise.all([t.e("common/vendor"),t.e("uni_modules/uni-data-checkbox/components/uni-data-checkbox/uni-data-checkbox")]).then(t.bind(null,214))}}}catch(a){if(-1===a.message.indexOf("Cannot find module")||-1===a.message.indexOf(".vue"))throw a;console.error(a.message),console.error("1. 排查组件名称拼写是否正确"),console.error("2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom"),console.error("3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件")}var s=function(){var e=this,n=e.$createElement,t=(e._self._c,Number(e.userInfo.integral)),o=Number(e.jfDetails.integral*e.number);e.$mp.data=Object.assign({},{$root:{m0:t,m1:o}})},r=!1,i=[];s._withStripped=!0},85:function(e,n,t){"use strict";t.r(n);var o=t(86),s=t.n(o);for(var r in o)["default"].indexOf(r)<0&&function(e){t.d(n,e,(function(){return o[e]}))}(r);n["default"]=s.a},86:function(e,n,t){"use strict";(function(e){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=t(35),s=function(){t.e("components/hearchItem/index").then(function(){return resolve(t(185))}.bind(null,t)).catch(t.oe)},r=function(){t.e("components/swiperItems/index").then(function(){return resolve(t(233))}.bind(null,t)).catch(t.oe)},i=function(){t.e("components/card_funds/index").then(function(){return resolve(t(240))}.bind(null,t)).catch(t.oe)},a=function(){t.e("components/text_swiper/index").then(function(){return resolve(t(247))}.bind(null,t)).catch(t.oe)},d={components:{hearchItem:s,swiperItems:r,cardFunds:i,textSwiper:a},data:function(){return{form:{name:"",phone:"",address:"",is_default:1},sexs:[{text:"是",value:1},{text:"否",value:2}],jf_id:"",addressList:[],addressDefaule:{},add_type:1,jfDetails:{},number:1,userInfo:{}}},onLoad:function(e){console.log("option",e),this.jf_id=e.jf_id},onShow:function(){this._getUserAddressList(),this._getGoodsDetail(),_this._getUserInfo()},watch:{},methods:{_getUserInfo:function(){var e=this;(0,o.getUserInfo)().then((function(n){console.log("用户信息",n.data.data),e.userInfo=n.data.data}))},handleJ:function(e){console.log(e),e>=1?this.number--:this.number++},_getGoodsDetail:function(){var e=this;(0,o.getGoodsDetail)({post_params:{id:this.jf_id}}).then((function(n){console.log("积分详情",n.data.data),e.jfDetails=n.data.data}))},handDefault:function(e){var n=this;(0,o.setDefaultUserAddress)({post_params:{id:e}}).then((function(e){console.log("设置默认地址"),n._getUserAddressList()}))},handItemAdd:function(e){this.addressDefaule=e},_getUserAddressList:function(){var e=this;(0,o.getUserAddressList)({post_params:{currentPage:1,perPage:100}}).then((function(n){console.log("地址列表",n.data.data),e.addressList=n.data.data.list,n.data.data.list.map((function(n){"Y"==n.is_default&&(e.addressDefaule=n)}))}))},handOk:function(){(0,o.addOrder)({post_params:{id:this.jf_id,number:this.number,address_id:this.addressDefaule.id}}).then((function(n){e.navigateTo({url:"/pages/components/okOrderOk/index"})}))},addAddress:function(){this.closeSel(),this.add_type=1,this.form.name="",this.form.phone="",this.form.address="",this.form.is_default=2,this.$refs.popup.open("bottom")},handleSel:function(){this.$refs.popupSel.open("bottom")},closeSel:function(){this.$refs.popupSel.close()},handleAddAddress:function(){this.add_type=2,this.form.name=this.addressDefaule.name,this.form.phone=this.addressDefaule.mobile,this.form.address=this.addressDefaule.complete_address,this.form.is_default="Y"==this.addressDefaule.is_default?1:2,this.$refs.popup.open("bottom")},close:function(){this.$refs.popup.close()}}};n.default=d}).call(this,t(2)["default"])},87:function(e,n,t){"use strict";t.r(n);var o=t(88),s=t.n(o);for(var r in o)["default"].indexOf(r)<0&&function(e){t.d(n,e,(function(){return o[e]}))}(r);n["default"]=s.a},88:function(e,n,t){}},[[81,"common/runtime","common/vendor"]]]);
//# sourceMappingURL=../../../../.sourcemap/mp-weixin/pages/components/okOrder/index.js.map